{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Zoltar - The Forecast Archive","text":"<p>Welcome to the documentation site for Zoltar, a system developed by the Reich Lab in the Department of Biostatistics and Epidemiology at the University of Massachusetts Amherst to store time series forecasts.</p>"},{"location":"#introduction","title":"Introduction","text":"<p>Zoltar is a web application to that hosts a repository of model forecast results. For many existing forecasting projects, predictions made by models have been stored in differing formats and locations or in sets of unstructured data files. This complicates tracking, comparing, visualizing and scoring forecasts. Zoltar supports storing, retrieving, comparing, and analyzing time series forecasts for prediction challenges of interest to many different modeling communities.</p>"},{"location":"#getting-started","title":"Getting started","text":"<p>Use the navigation links in the sidebar to get started touring the web site, reading the user guide, or learning about our python and R packages for interacting with the Zoltar API from your programming language.  </p>"},{"location":"#assumptionslimitations","title":"Assumptions/Limitations","text":"<p>The scope of this first iteration is limited in these ways:</p> <ul> <li>Process-agnostic: By storing only core datasets, we make no assumptions about ML processes behind a model\u2019s forecast, such as how it\u2019s fit.</li> <li>Enforceability: There is currently not a method in place to test whether the models were fit on the right data subsets (this is something that pipeline-focused software such as mlr3, among others, could assist with).</li> <li>Unrevised vs. revised data: A Project\u2019s core dataset may or may not include data revisions, such as those used to model or forecast reporting delays. Each project should give specific instructions on what type of data (revised vs. unrevised) is used in the training and testing phases of the forecasting.</li> <li>Model instances: The system stores only model metadata, rather than computable representations of models (internals) that could be used to reconstruct and re-run them.</li> <li>Reports: Some projects generate automated narrative reports from forecast data. This system does not support storing reports with their models.</li> <li>Training/testing data: The only information about what subsets of the core data were used for different ML stages (e.g. training vs testing) will be stored in narrative format in the project description.</li> <li>Reproducibility: Since this system stores data involved in forecasts and not source code, information about how to re-run models is only captured in narrative form in the model's description, and is linked to by the model's url field.</li> </ul>"},{"location":"#funding","title":"Funding","text":"<p>This work has been supported by the National Institutes of General Medical Sciences (R35GM119582). The content is solely the responsibility of the authors and does not necessarily represent the official views of NIGMS, or the National Institutes of Health.</p>"},{"location":"#contact","title":"Contact","text":"<ul> <li>Email: If you have questions about this site, please contact us at zoltar@reichlab.io.</li> <li>Account requests: Please fill out the Zoltardata.com user request form to be added to our beta-tester invitation queue.</li> <li>Zoltar users email list: We have set up an email group at https://groups.io/g/zoltardata where Zoltar developers will make occasional announcements about important system changes, releases, etc. To subscribe either create a groups.io account and then add this group, or just send an email to zoltardata+subscribe@groups.io to auto-create an account.</li> <li>GitHub repository issues: Zoltar is under active development, so you may have questions, encounter issues, or want new features. Please feel free to create issues for us at https://github.com/reichlab/forecast-repository/issues.</li> </ul>"},{"location":"Accounts/","title":"Managing your account","text":"<p>Zoltar provides some basic features for managing your account, which this page describes. Note that you must have a Zoltar account to do anything other than browse public repositories. If you want an account or need to delete one, please use the contact information.</p>"},{"location":"Accounts/#view-your-profile-page","title":"View your profile page","text":"<p>Account features are accessed via the user dropdown menu in the black navigation header that's shown at the top of all pages:</p> <p></p> <p>Selecting \"Profile Page\" takes you to details about your account:</p> <p></p> <p>From this page you can use the buttons at the top to edit your email address and name, and to change your password. In addition, you'll see sections for the Projects you're involved with (either as a project owner or model owner), the Models you own, and the Jobs you have created.</p>"},{"location":"Accounts/#reset-your-password","title":"Reset your password","text":"<p>Zoltar has a basic \"amnesia\" feature in case you forget your password. To use it:</p> <ol> <li>Click the \"Sign in\" user dropdown menu in the black navigation header that's shown at the top of all pages.</li> <li>On the user login page, click the \"Lost password?\" link.</li> <li>Follow the instructions that are sent to the email address you registered with Zoltar.</li> </ol>"},{"location":"Api/","title":"API","text":"<p>Zoltar's functionality is accessible via the following RESTful endpoints. All results are JSON. The API is browsable from the root URI on the home page (look for <code>API</code> buttons on any page), and is a great starting point for developers. Note that all projects and users are listed on the home page, but private projects, their models, and their forecasts, can only be accessed by authorized accounts.</p>"},{"location":"ApiIntro/","title":"Programming libraries and API","text":"<p>You can do many of the operations available in the zoltardata.com web interface via the Zoltar RESTful API. While accessing the API directly is possible (say via curl, HTTPie, etc), we have written two language bindings to simplify use from Python and R. Follow those links to learn more.</p>"},{"location":"Concepts/","title":"Zoltar concepts","text":"<p>On this page we explain the fundamental ideas behind Zoltar's envisioning of representing forecasts in a challenge.</p> <ul> <li>Projects: As mentioned in Manging Projects, projects are the central organizing concept in Zoltar. They define the units, targets and time zeros that forecasts are relative to, and contain the forecast models that teams use to represent a forecasting challenge.</li> <li>Forecast models: A model is the representation of code that generates forecasts. It has zero or one forecasts associated with the project's time zeros. A model is identified by its <code>abbrevation</code> field, which is unique within a project.</li> <li>Forecasts: A forecast consists of a set of predictions of the various types supported by Zoltar. Forecast versioning is supported via each forecast having an <code>issued_at</code> field, which defaults to when the forecast was uploaded to Zoltar. (Users with advanced permission can change that field.) See the Data Model and Forecast Versions pages for details.</li> <li>Units: Units represent distinct entities for which predictions are made, for example, if forecasts are made for multiple different locations, the locations are the units. A unit contains a <code>name</code> and <code>abbrevation</code> field, where the latter is unique within a project and used to identify a particular unit.</li> <li>Targets: Targets are the fundamental data structure of a forecast, and as such have a separate page documenting them.</li> <li>Time zeros: Because the forecasting field does not have standard terminology, we have settled on the following two concepts for this application. Note that some time zeros are tagged as starting a season, specifying the season's name, which helps to segment the time zeros.<ul> <li>Time zero: The date from which a forecast originates and to which targets are relative (i.e. a \"2-week-ahead forecast\" is two weeks ahead of the time-zero). Every forecast is for a time zero.</li> <li>Data version date: (Optional) The latest date at which any data source used for the forecasts should be considered. Can be used externally to recreate model results by \"rolling back\" the core data to a particular state.</li> </ul> </li> <li>Truth: Zoltar supports uploading ground truth data for projects. Please see this page for details.</li> </ul>"},{"location":"DataModel/","title":"Zoltar data model","text":"<p>This page documents how Zoltar represents forecast data, and the various types of predictions that are supported. Each forecast is made for a particular time zero in the project, and contains some number of predictions, one or more for each combination of the project's units and targets. Zoltar supports the following eight prediction types, which we've found covers many forecasting applications. All predictions must pass a number of validity checks as documented in Validation. Each section has an example as represented in Zoltar's JSON format which was taken from the \"Docs Example Project\" demo project.</p>"},{"location":"DataModel/#overview","title":"Overview","text":"<p>(Please refer to the diagram below. Note that it does not contain the <code>quantile</code>, <code>mean</code>, <code>median</code>, and <code>mode</code> prediction types.) A forecast is made up of metadata (the model that made the forecast, the time zero for the forecast, and the forecast's date of submission) plus the forecast's data as a set of predictions. Each prediction is a collection of one or more prediction elements specific to one target and unit. Each prediction element is of a particular type (or \"class\") (<code>point</code>, <code>named</code>, <code>bin</code>, <code>sample</code>, <code>quantile</code>, <code>mean</code>, <code>median</code>, and <code>mode</code> as described below).</p> <p></p>"},{"location":"DataModel/#point-predictions","title":"Point predictions","text":"<p>Point predictions represent a single value. See here for details. In this example we see a prediction of <code>2.1</code> for the unit \"loc1\" and target \"pct next week\". Note that, like all predictions, the data type (in this case the float <code>2.1</code>) must match the target's data type. (In this case it does; \"pct next week\" is a discrete target.)</p> <pre><code>{\"unit\": \"loc1\",\n  \"target\": \"pct next week\",\n  \"class\": \"point\",\n  \"prediction\": {\n    \"value\": 2.1\n  }\n}\n</code></pre>"},{"location":"DataModel/#named-distributions","title":"Named distributions","text":"<p>Named distributions represent distributions like normal, log normal, gamma, etc. See here for details. Here is an example in which a normal distribution (\"norm\" is the abbreviation) is specified for unit \"loc1\" and target \"pct next week\". Named predictions support up to three parameters (named \"param1\", \"param2\", and \"param3\") depending on the family. Here the normal distribution requires two parameters: mean (\"param1\") and sd (\"param2\"). \"param3\" is unused and not listed.</p> <pre><code>{\"unit\": \"loc1\",\n  \"target\": \"pct next week\",\n  \"class\": \"named\",\n  \"prediction\": {\n    \"family\": \"norm\",\n    \"param1\": 1.1,\n    \"param2\": 2.2\n  }\n}\n</code></pre>"},{"location":"DataModel/#bin-distributions","title":"Bin distributions","text":"<p>Bin distributions represent binned distribution defined by inclusive lower bounds for each bin. See here for details. Example:</p> <pre><code>{\"unit\": \"loc2\",\n  \"target\": \"pct next week\",\n  \"class\": \"bin\",\n  \"prediction\": {\n    \"cat\": [1.1, 2.2, 3.3],\n    \"prob\": [0.3, 0.2, 0.5]\n  }\n}\n</code></pre>"},{"location":"DataModel/#sample-distributions","title":"Sample distributions","text":"<p>Sample distributions represent samples taken for the unit and target. Here's an example:</p> <pre><code>{\"unit\": \"loc3\",\n  \"target\": \"pct next week\",\n  \"class\": \"sample\",\n  \"prediction\": {\n    \"sample\": [2.3, 6.5, 0.0, 10.0234, 0.0001]\n  }\n}\n</code></pre>"},{"location":"DataModel/#quantile-distributions","title":"Quantile distributions","text":"<p>Quantile distributions represent quantiles of the predictive distribution. For example:</p> <pre><code>{\"unit\": \"loc2\",\n  \"target\": \"pct next week\",\n  \"class\": \"quantile\",\n  \"prediction\": {\n    \"quantile\": [0.025, 0.25, 0.5, 0.75, 0.975],\n    \"value\": [1.0, 2.2, 2.2, 5.0, 50.0]\n  }\n}\n</code></pre>"},{"location":"DataModel/#mean-median-and-mode-predictions","title":"Mean, median, and mode predictions","text":"<p>These three types are expressed similar to point predictions above, except the class name varies. All validations and constraints that apply to point also apply to these three. Here's the point example from above, but with the <code>mean</code> class:</p> <pre><code>{\"unit\": \"loc1\",\n  \"target\": \"pct next week\",\n  \"class\": \"mean\",\n  \"prediction\": {\n    \"value\": 2.1\n  }\n}\n</code></pre>"},{"location":"FileFormats/","title":"File Formats","text":"<p>Zoltar uses a number of formats for representing truth data, forecast data, configurations, etc. This page documents those.</p> <ul> <li>Project creation configuration (JSON)</li> <li>Truth data format (CSV)</li> <li>Forecast data format (JSON)</li> <li>Forecast data format (CSV)</li> </ul>"},{"location":"FileFormats/#project-creation-configuration-json","title":"Project creation configuration (JSON)","text":"<p>As documented in Projects, as an alternative to manually creating a project via the web interface, projects can be created from a JSON configuration file. Here's the configuration file from the \"Docs Example Project\" demo project: zoltar-project-config.json.</p> <p>Project configuration files contain six metadata keys (<code>\"name</code>, <code>\"is_public\"</code>, <code>\"description\"</code>, <code>\"home_url\"</code>, <code>\"logo_url\"</code>, <code>\"core_data\"</code>), plus three keys that are lists of objects (<code>\"units\"</code>, <code>\"targets\"</code>, and <code>\"timezeros\"</code>).</p> <p>Here are the three list objects' formats:</p> <p>\"units\": a list of objects containing two fields:</p> <ul> <li><code>name</code>: The name of the unit.</li> <li><code>abbreviation</code>: The unit's abbreviation.</li> </ul> <p>\"targets\": a list of the project's targets. Please see the Targets.md file for a detailed description of target parameters and which are required. Here are all possible parameters that can be passed in a project configuration file:</p> <ul> <li><code>name</code>: string</li> <li><code>description</code>: string</li> <li><code>type</code>: string - must be one of the following: <code>continuous</code>, <code>discrete</code>, <code>nominal</code>, <code>binary</code>, or <code>date</code></li> <li><code>outcome_variable</code>: string</li> <li><code>is_step_ahead</code>: boolean</li> <li><code>numeric_horizon</code>: integer - negative, zero, or positive</li> <li><code>reference_date_type</code>: one of the names listed in valid reference date types</li> <li><code>range</code>: an array (list) of two numbers</li> <li><code>cats</code>: an array (list) of one or more numbers or strings (which depends on the target's type's data type)</li> <li><code>dates</code>: an array (list) of one or more strings in the <code>YYYY-MM-DD</code> format</li> </ul> <p>\"timezeros\": a list of the projects time zeros. Each has these fields:</p> <ul> <li><code>timezero_date</code>: The timezero's date in <code>YYYY-MM-DD</code> format</li> <li><code>data_version_date</code> : Optional data version date in the same format. Pass <code>null</code> if the timezero does not have one</li> <li><code>is_season_start</code>: <code>true</code> if this starts a season, and <code>false</code> otherwise</li> <li><code>season_name</code>: Applicable when <code>is_season_start</code> is <code>true</code>, names the season, e.g., \"2010-2011\"</li> </ul>"},{"location":"FileFormats/#truth-data-format-csv","title":"Truth data format (CSV)","text":"<p>Every project in Zoltar can have ground truth values associated with targets. Users can access them as CSV as described in Truth. An example truths file is zoltar-ground-truth-example.csv. The file has four columns: <code>timezero</code>, <code>unit</code>, <code>target</code>, <code>value</code>:</p> <ul> <li><code>timezero</code>: date the truth applies to, formatted as <code>yyyy-mm-dd</code></li> <li><code>unit</code>: the unit's abbreviation</li> <li><code>target</code>: target name</li> <li><code>value</code>: truth value, formatted according to the target's type. date values are formatted <code>yyyy-mm-dd</code> and booleans as <code>true</code> or <code>false</code></li> </ul>"},{"location":"FileFormats/#forecast-data-format-json","title":"Forecast data format (JSON)","text":"<p>For prediction input and output we use a JSON file format. This format is strongly inspired by https://github.com/cdcepi/predx/blob/master/predx_classes.md . See zoltar-predictions-examples.json for an example. The file contains a top-level object with two keys: <code>\"meta\"</code> and <code>\"predictions\"</code>. The <code>meta</code> section is unused for uploads, and for downloads contains various information about the forecast in the repository in the <code>\"forecast\"</code> field, plus lists of the project's <code>\"units\"</code> and <code>\"targets\"</code>.</p> <p>The <code>\"predictions\"</code> list contains objects for each prediction, and each object contains the following four keys:</p> <ul> <li><code>\"unit\"</code>: abbreviation of the Unit.</li> <li><code>\"target\"</code>: name of the Target.</li> <li><code>\"class\"</code>: the type of prediction this is. It is an abbreviation of the corresponding Prediction subclass - the names are : <code>bin</code>, <code>named</code>, <code>point</code>, and <code>sample</code>.</li> <li> <p><code>\"prediction\"</code>: a class-specific object containing the prediction data itself. The format varies according to class. Here is a summary (see Data model for details and examples):</p> <ul> <li><code>\"bin\"</code>: Binned distribution with a category for each bin. It is a two-column table represented by two keys, one per column: <code>cat</code> and <code>prob</code>. They are paired, i.e., have the same number of rows.</li> <li><code>\"named\"</code>: A named distribution with four fields: <code>family</code> and <code>param1</code> through <code>param3</code>. <code>family</code> names must be one of : <code>norm</code>, <code>lnorm</code>, <code>gamma</code>, <code>beta</code>, <code>bern</code>, <code>binom</code>, <code>pois</code>, <code>nbinom</code>, and <code>nbinom2</code>.</li> <li><code>\"point\"</code>: A numeric point prediction with a single <code>value</code> key.</li> <li><code>\"sample\"</code>: Numeric samples represented as a table with one column that is found in the <code>sample</code> key.</li> <li><code>\"quantile\"</code>: A quantile distribution with two paired columns: <code>quantile</code> and <code>value</code>.</li> <li><code>\"mean\"</code>, <code>\"median\"</code>, and <code>\"mode\"</code>: A numeric prediction with a single value key, indicating the summary statistic indicated by the name, e.g. the mean.</li> </ul> </li> </ul> <p>To indicate a Retracted prediction in JSON files, by use <code>null</code> for the \"prediction\" value. For example:</p> <pre><code>{\n  \"unit\": \"loc1\",\n  \"target\": \"pct next week\",\n  \"class\": \"point\",\n  \"prediction\": null\n}\n</code></pre>"},{"location":"FileFormats/#forecast-data-format-csv","title":"Forecast data format (CSV)","text":"<p>Zoltar supports uploading and downloading forecast data in a CSV format with the following columns. It helps to think of this format as an \"exploded\" version of the prediction elements in the JSON format, where each element expands into one or more rows. <code>named</code>, <code>point</code>, <code>mean</code>, <code>median</code>, and <code>mode</code> types expand into single rows, and <code>bin</code>, <code>sample</code>, and <code>quantile</code> types expand into one or more rows depending on the particular data. You can read more about prediction types on tje data model page.</p> <p>Note that because different prediction types have different contents, the CSV rows are \"sparse\" in that not every row uses all columns (the unused ones are empty, i.e., <code>\"\"</code>). However, the <code>unit</code>, <code>target</code>, and <code>class</code> columns are always non-empty. For example, a <code>point</code> row only uses the <code>value</code> column whereas a <code>quantile</code> row uses only the <code>value</code> and <code>quantile</code> columns. To learn more you can examine the example file zoltar-predictions-examples.csv, which contains the same data as zoltar-predictions-examples.json, but in CSV format.</p> <p>Here are the columns used in the format, in order. Note that there are three additional columns present when downloading forecast data: <code>model</code>, <code>timezero</code>, and <code>season</code>. They are positioned before the <code>unit</code> column. These three columns are not present when uploading forecast data.</p> <ul> <li><code>unit</code>: the prediction's unit</li> <li><code>target</code>: \"\" target</li> <li><code>class</code>: \"\" prediction type. one of <code>bin</code>, <code>named</code>, <code>point</code>, <code>sample</code>, <code>quantile</code>, <code>mean</code>, <code>median</code>, and <code>mode</code></li> <li><code>value</code>: used for <code>point</code>, <code>quantile</code>, <code>mean</code>, <code>median</code>, and <code>mode</code> prediction types. empty otherwise</li> <li><code>cat</code>: used for <code>bin</code> prediction types. empty otherwise</li> <li><code>prob</code>: \"\"</li> <li><code>sample</code>: used for <code>sample</code> prediction types. empty otherwise</li> <li><code>quantile</code>: used for <code>quantile</code> prediction types. empty otherwise</li> <li><code>family</code>: family name for <code>named</code> predictions. see <code>Named</code> Prediction Elements for a list of them</li> <li><code>param1</code>: parameter \"\"</li> <li><code>param2</code>: parameter \"\"</li> <li><code>param3</code>: parameter \"\"</li> </ul> <p>To indicate a Retracted prediction in CSV files, put <code>NULL</code> (no quote marks) in the non-sparce cells. Taking the above example, a retracted <code>point</code> row would have <code>NULL</code> for its <code>value</code>, and a retracted <code>quantile</code> row would have <code>NULL</code> for both <code>value</code> and <code>quantile</code>. Note that only one <code>NULL</code> row of multi-row prediction types (<code>bin</code>, <code>sample</code>, and <code>quantile</code>) needs to be present to retract a prediction element. For example, here are three retracted rows:</p> <pre><code>unit,target,class,value,cat,prob,sample,quantile,family,param1,param2,param3\nloc2,pct next week,point,\"NULL\",,,,,,,,\nloc2,pct next week,bin,,\"NULL\",\"NULL\",,,,,,\nloc2,pct next week,quantile,\"NULL\",,,,\"NULL\",,,,\n</code></pre>"},{"location":"ForecastDetailPage/","title":"Forecast detail page","text":"<p>The forecast detail page shows information about a particular forecast, and is divided into five vertical sections with bold headings, described next: Details table, Units present, Targets present, Predictions present, and Query form and results. Here's an example forecast detail page: </p> <p></p>"},{"location":"ForecastDetailPage/#forecast-details-table","title":"Forecast details table","text":"<p>At the top of the page is a table showing information related to the forecast:</p> <ul> <li>Model: A link to the owning model.</li> <li>Timezero: The time zero that the forecast applies to. (The data version date, if any, is not shown here.) See Concepts for more about time zeros.</li> <li>Issued at: The datetime identifying the forecast's version. If there is more than one version for this forecast's timezero then text like \"Version 1 of 2\" will show. (See Concepts for more about versions.)</li> <li>Data Source: Text describing where the forecast came from. It can be anything but is typically a data file name, such as a CSV. The source is a link to the forecast's forecast detail page. It says \"(No data)\" if a forecast has not yet been uploaded for that time zero. </li> <li>Upload time: The date and time that the forecast was uploaded to Zoltar.</li> <li>Notes: Text describing anything slightly different about a given forecast, e.g., a changed set of assumptions or a comment about when the forecast was created. Notes should be brief, typically less than 50 words.</li> </ul>"},{"location":"ForecastDetailPage/#units-present","title":"Units present","text":"<p>This section is the same as on the project detail page, but lists only those units for which this forecast predicts.</p>"},{"location":"ForecastDetailPage/#targets-present","title":"Targets present","text":"<p>This section is the same as in project detail page, but lists only those targets for which this forecast predicts.</p>"},{"location":"ForecastDetailPage/#predictions-present","title":"Predictions present","text":"<p>The predictions section has the heading \"Predictions (_)\" (where _ is the actual number of predictions) and a bulleted summary of the counts of the five different prediction types that can be associated with a forecast: <code>bin</code>, <code>mean</code>, <code>median</code>, <code>mode</code>, <code>named</code>, <code>point</code>, <code>quantile</code>, and <code>sample</code>. See Data Model for more information on how forecast data is modeled.</p>"},{"location":"ForecastDetailPage/#query-form-and-results","title":"Query form and results","text":"<p>At the bottom of the page under Query Forecast Data is a simple form that allows searching the forecast's predictions by unit and target. (Those two dropdown menus contain the units and targets that have predictions, but there's no guarantee that every combination has data.) Clicking Search runs the query and shows the results below the form. There is a table for each type of prediction that's present (<code>bin</code>, <code>named</code>, etc.) and each table's columns are customized according to the prediction type (all tables have unit and target columns):</p> <ul> <li><code>bin</code>: prob and cat columns</li> <li><code>named</code>: family, param 1, param 2, and param 3 columns</li> <li><code>point</code>, <code>mean</code>, <code>median</code>, and <code>mode</code>: a value column</li> <li><code>quantile</code>: quantile and value columns</li> <li><code>sample</code>: a sample column</li> </ul> <p>Here's an example (the page has been scrolled down) under Found predictions:</p> <p></p>"},{"location":"ForecastQueryFormat/","title":"Querying a project's forecasts","text":"<p>In addition to the ability to download individual forecasts via both the web UI and the Zoltar libraries, Zoltar supports downloading data from multiple forecasts via a simple query specification. You can download from the web UI as described in Download forecasts via the web UI or through the API.</p>"},{"location":"ForecastQueryFormat/#querying-workflow","title":"Querying workflow","text":"<p>Like uploading a forecast, querying a project's forecasts can be a long operation. For this reason, Zoltar enqueues queries as jobs that are operated on separately from the web process. This means querying follows these steps:</p> <ol> <li>Create and submit the query. This returns a job that you can use to a) track the status of the query, and b) download the query results (forecast data).</li> <li>Poll the job until its status is SUCCESS. (You can use the web UI to do this as well. See Check an upload's status for how.)</li> <li>Download the data associated with the job.</li> </ol>"},{"location":"ForecastQueryFormat/#query-format","title":"Query format","text":"<p>Zoltar supports a simple filtering feature that allows users to limit what data is downloaded.</p> <p>To filter a project's forecast data, we support the following six types of filters. They are passed behind the scenes to the server as a JSON object with keys and values.</p> <p>Logically, the filters are treated as a list of \"ANDs of ORs\": Each of the five filter types are lists that are considered individually as ORs. For example, a list of models means get data from any of them. The filters are combined by ANDs, meaning only data that matches all filters. (See the below example.) The types of filters are:</p> <p>1) Filter by model: Pass zero or more model abbreviations in the <code>models</code> field. Example:</p> <pre><code>{\"models\": [\"60-contact\", \"CovidIL_100\"]}  # gets data only from either of these two models\n</code></pre> <p>2) Filter by unit: Pass zero or more unit abbreviations in the <code>units</code> field. Example:</p> <pre><code>{\"units\": [\"US\"]}  # get data only for this unit\n</code></pre> <p>3) Filter by target: Pass zero or more target names in the <code>targets</code> field. Example:</p> <pre><code>{\"targets\": [\"0 day ahead cum death\", \"1 day ahead cum death\"]}  # get data only for either of these two targets\n</code></pre> <p>4) Filter by timezero: Pass zero or more timezero dates in <code>yyyy-mm-dd</code> format in the <code>timezeros</code> field. Example:</p> <pre><code>{\"timezeros\": [\"2020-05-14\", \"2020-05-09\"]}  # get data only for either of these two time zeros\n</code></pre> <p>5) Filter by forecast type: Pass a list of string types in the <code>types</code> field. Choices are <code>bin</code>, <code>named</code>, <code>point</code>, <code>sample</code>, <code>quantile</code>, <code>mean</code>, <code>median</code>, and <code>mode</code>. Example:</p> <pre><code>{\"types\": [\"point\", \"quantile\"]}  # get only point and quantile data\n</code></pre> <p>6) Filter by forecast version: Passing a datetime string in the optional <code>as_of</code> field causes the query to return only those forecast versions whose <code>issued_at</code> is &lt;= the <code>as_of</code> datetime (AKA timestamp). If no <code>as_of</code> is passed then the query returns the most recent forecasts. (See Forecast Versions for more about versions.) The <code>as_of</code> field format must be a datetime as parsed by the dateutil python library, which accepts a variety of styles. You can find example here. Importantly, the datetime must include timezone information for disambiguation, without which the query will fail. (Note that Zoltar displays all datetimes using the UTC timezone.) Here's an example:</p> <pre><code>{\"as_of\": \"2021-05-10 12:00 UTC \"}  # get forecasts whose issued_at is &lt;= this date\n</code></pre> <p>The lists in 1 through 5 operate as \"OR\" on their own but are combined in the final query as \"AND\"s. Here's an example:</p> <pre><code>{\"models\": [\"60-contact\", \"CovidIL_100\"],\n \"units\": [\"US\"],\n \"targets\": [\"0 day ahead cum death\", \"1 day ahead cum death\"],\n \"timezeros\": [\"2020-05-14\", \"2020-05-09\"],\n \"types\": [\"point\", \"quantile\"]\n}\n</code></pre> <p>This results in data that is:</p> <ul> <li>(from either the <code>60-contact</code> OR <code>CovidIL_100</code> models) AND</li> <li>(the unit is <code>US</code>) AND</li> <li>(the target is either <code>0 day ahead cum death</code> or <code>1 day ahead cum death</code>) AND</li> <li>(the timezero is either <code>2020-05-14</code> OR <code>2020-05-09</code>) AND</li> <li>(the prediction type is either <code>point</code> OR <code>quantile</code>)</li> </ul> <p>Note that not all types of filters are required to be specified. Any missing ones are treated by default as \"all\". In the previous example, if we omitted <code>types</code> then we'd get similar data except it would include all prediction types instead of just <code>point</code> or <code>quantile</code> ones.</p>"},{"location":"ForecastQueryFormat/#query-options","title":"Query options","text":"<p>Some features (currently only prediction type conversion) require additional information to run. This is specified via the <code>options</code> field, which is an object that acts like a flat dot-namespaced registry ala Firefox's Configuration Editor (its <code>about:config</code> page). Keys are period-delimited strings and values are option-specific values. Here's the above query with some options:</p> <pre><code>{\"models\": [\"60-contact\", \"CovidIL_100\"],\n \"units\": [\"US\"],\n \"targets\": [\"0 day ahead cum death\", \"1 day ahead cum death\"],\n \"timezeros\": [\"2020-05-14\", \"2020-05-09\"],\n \"types\": [\"point\", \"quantile\"],\n \"options\": {\"convert.bin\": true,\n             \"convert.point\": \"mean\", \n             \"convert.quantile\": [0.025, 0.25, 0.5, 0.75, 0.975],\n             \"convert.sample\": 100}\n}\n</code></pre>"},{"location":"ForecastQueryFormat/#prediction-type-conversion","title":"Prediction type conversion","text":"<p>Zoltar supports converting from some prediction types to desired ones that have not actually been uploaded. Conversion is activated by running a forecast query with these two parameters set:</p> <ol> <li>Include query options for the conversions you want. Including a conversion option does two things: a) it tells Zoltar that it should convert to that type (i.e., it enables that conversion), and b) possible details about how to do the conversion, depending on the types involved. (Some conversions require additional information on how to perform the conversion.)</li> <li>Specify the forecast types (#5 above) that you want the program to convert TO (or leave it unspecified, which will cause the program to include all types).</li> </ol> <p>Here are all the conversions that we hope to support:</p> <p>Note: Conversion is currently limited, with support coming for additional prediction types and target types. Also note that the conversion feature results in slower queries than when it is not requested.</p> TO type FROM type(s)) query option bin named, sample <code>convert.bin</code>: boolean named n/a n/a point named, sample <code>convert.point</code>: string: \"mean\" or \"median\" quantile named, sample <code>convert.quantile</code>: list: unique numbers in [0, 1] sample named <code>convert.sample</code>: integer: # samples desired (&gt;0) mean named, sample <code>convert.mean</code>:boolean median named, sample <code>convert.median</code>:boolean mode named <code>convert.mode</code>:boolean <p>Converting takes into account each prediction element's target's type:</p> <ul> <li>continuous: OK (mean, median)</li> <li>discrete: OK (mean, median)</li> <li>nominal: TBD (mode: which value, TRUE or FALSE, is more present in the samples)</li> <li>binary: TBD (mode: which value, TRUE or FALSE, is more present in the samples</li> <li>date: TBD (don\u2019t support for now)</li> </ul> <p>Currently, only these combinations are implemented:</p> <ul> <li>Target types: continuous or discrete</li> <li>Conversions:</li> </ul> TO type FROM type(s)) notes point sample [1] quantile sample [2] mean sample [3] median sample [4] <ul> <li>[1] uses either statistics.mean() or statistics.median() depending on the <code>convert.point</code> option</li> <li>[2] uses numpy.quantile()</li> <li>[3] uses statistics.mean()</li> <li>[4] uses statistics.median()</li> </ul>"},{"location":"ForecastQueryFormat/#data-format","title":"Data format","text":"<p>The forecasts are returned in the CSV format documented at Forecast data format (CSV).</p>"},{"location":"ForecastQueryFormat/#data-limits","title":"Data limits","text":"<p>Because queries have the potential to return millions of rows, the number of resulting rows is capped. The query fails if it would exceed the limit.</p>"},{"location":"ForecastVersions/","title":"Forecast versions","text":"<p>Forecasts in Zoltar can be versioned. A version is identified by the combination of the forecast's model, time zero, and issued_at fields. Multiple versions for the same model and time zero will have different issued_at values. These can be identified by the gray version numbering shown in the version column on the model detail page's Forecasts list (e.g., \"1 of 2\"), and on the Issued at row of the forecast detail page's information table at the top (e.g., \"(Version 3 of 3)\").</p>"},{"location":"ForecastVersions/#forecast-version-rules","title":"Forecast version rules","text":"<p>Zoltar enforces these rules about forecast versions:</p> <ol> <li>No uploaded forecast can have no rows of data.</li> <li>No uploaded forecast can load 100% duplicate data of a previous version.</li> <li>New forecast versions cannot imply any retracted prediction elements in existing versions, i.e., you cannot load data that's a subset of the previous forecast's data.</li> <li>New forecast versions cannot be positioned before any existing versions.</li> <li>Editing a version's issued_at cannot reposition it before any existing forecasts.</li> <li>Deleted forecasts cannot be positioned before any newer versions.</li> </ol> <p>Notes: - Rule 3 applies only to non-oracle forecasts, i.e., truth forecasts are allowed to be partial because we assume truth retractions are not allowed. - This means we require forecasts to be uploaded in <code>issued_at</code> order. If you need to \"backfill\" older versions, you'll first have to delete forecasts with newer <code>issued_at</code> datetimes before uploading older ones.</p>"},{"location":"ForecastVersions/#retracted-predictions","title":"Retracted predictions","text":"<p>Zoltar supports retracting individual prediction elements. A retracted element marks a particular combination of unit, target, and prediction type to be ignored when executing a forecast query if the user passes an <code>as_of</code> value that's on or later than the retraction <code>issued_at</code>. In that case there will be no value returned for the retracted prediction element. However, an <code>as_of</code> that's earlier than the forecast's <code>issued_at</code> will result in the element's pre-retraction value being returned. Users who want to return the forecast's original data including retractions, should use the API or web UI as documented in download a single forecast. In this case Zoltar will include retractions as they were uploaded - with <code>null</code> \"prediction\" value in the JSON (see below). </p> <p>Retracted predictions are identified in JSON forecast data format files by passing <code>null</code> for the \"prediction\" value, and by passing <code>NULL</code> in CSV forecast data format.</p>"},{"location":"ForecastVersions/#duplicate-data","title":"Duplicate data","text":"<p>When Zoltar loads a forecast's prediction elements, it skips those that are identical to any in previous versions. This saves on storage space, and is transparent to users (downloading forecast data via queries or single forecasts will reassemble the original data).</p>"},{"location":"Forecasts/","title":"Managing forecasts","text":"<p>A forecast is a set of predictions for combinations of units and targets. See Data Model for detail on the structure of predictions. Following are the forecast operations you can do from within Zoltar.</p> <p>Note: Operations on forecasts, like many Zoltar activities, can be done either through the zoltardata.com web interface or programmatically using the Zoltar libraries.</p> <p>Note: As mentioned in Concepts, forecasts can have versions via their <code>issued_at</code> field. However, versioning is currently supported only via the API.</p>"},{"location":"Forecasts/#upload-a-forecast","title":"Upload a forecast","text":"<p>Here we show how to upload forecast data into Zoltar.</p> <p>Note: As mentioned at Jobs, uploading a forecast is done in a separate worker process because it may take more than a handful of seconds to run. Thus, the workflow is based on that (see Job workflow for details).</p> <p>Forecasts are uploaded to a particular model for a particular time zero. To upload one:</p> <ol> <li>Go to the model detail page of the one you want to upload into.</li> <li>Make sure \"Hide if no data\" is unchecked.</li> <li>Find the time zero that the forecast is associated with.</li> <li>If the time zero already has a forecast then delete it (see Delete a forecast below). You can tell if a time zero has an uploaded forecast in two ways: the text in the \"Data Source\" column is a link instead of the words \"(No data)\" and the icon in the \"Action\" column is a red trash can and not a green upload icon.</li> <li>Click the \"Browse...\" button in the time zero's \"Action\" column.</li> <li>In the dialog that appears, select a Zoltar Forecast data file. The format can be either JSON or CSV.</li> <li>Click the green upload button.</li> <li>If the file is OK then you will be taken to a job detail page that shows the status of your upload, with the message \"Queued the forecast file _ for uploading.\", where _ is your file's name.</li> <li>Once the upload is successful (you can refresh the job detail page to check) then you will see the newly-uploaded file listed next to the selected time zero on the model detail page.</li> <li>If there was a problem uploading then you will see the upload's status as FAILED. The Failure section will provide some information to help debug the problem.</li> </ol>"},{"location":"Forecasts/#delete-a-forecast","title":"Delete a forecast","text":"<p>Delete a forecast via these steps:</p> <ol> <li>Go to the model detail page where the forecast resides.</li> <li>Click the red trash can button in the \"Action\" column.</li> <li>Click \"Delete\" in the confirmation dialog that appears. Note that this cannot be undone!</li> </ol>"},{"location":"Forecasts/#download-a-single-forecast","title":"Download a single forecast","text":"<p>To download a particular forecast:</p> <ol> <li>Go to the model detail page where the forecast resides.</li> <li>Click the link in the \"Data Source\" column to go to the forecast detail page.</li> <li>Click the \"Download JSON\" button and save the file in the JSON format documented at Forecast data format for details.</li> </ol> <p>(Note that if you are only interested in a particular unit/target combination, you can use the \"Query Forecast Data\" form on that page - see here for details.)</p>"},{"location":"Forecasts/#download-multiple-forecasts","title":"Download multiple forecasts","text":"<p>Note: Downloading multiple forecasts is currently available only to users with Zoltar accounts.</p> <p>Note: As mentioned at Jobs, downloading a forecast is done in a separate worker process because it may take more than a handful of seconds to run. Thus, the workflow is based on that (see Job workflow for details).</p> <p>Forecasts are downloaded by executing a forecast query by either a) Zoltar API using the Zoltar libraries, or b) via a simple web UI form (described next). In both cases you need to follow these steps:</p> <ol> <li>Decide the data of interest (i.e., <code>models</code>, <code>units</code>, <code>targets</code>, <code>timezeros</code>, and prediction <code>types</code>).</li> <li>Submit the query to get a Job ID.</li> <li>Poll the resulting Job until it succeeds (see Check a job's status).</li> <li>Download the job's data (see Download a job's data). The format is described at Forecast data format (CSV).</li> </ol>"},{"location":"Forecasts/#download-forecasts-via-the-web-ui","title":"Download forecasts via the web UI","text":"<p>To download forecast data via the web UI:</p> <ol> <li>Go to the project detail page whose models contain the forecasts. </li> <li>Click the \"Download\" button to the right of \"Forecasts\" in the Features section at the page's top.</li> <li>On the \"Edit Forecast Query\" page that shows, enter your query and then click \"Submit\" (see the screenshot below).</li> <li>Poll the resulting Job until it succeeds (see Check a job's status).</li> <li>Download the job's data (see Download a job's data). It is in Forecast data format (CSV).</li> </ol> <p>Here's an example of the Edit Forecast Query page:</p> <p></p>"},{"location":"ForecastsSummaryPage/","title":"Forecasts summary page","text":"<p>Reached via the project detail page's Features section, this page collects a summary of all of a project's forecasts. It has a heatmap at the top that can be colored in one of three ways (# predictions, # units, or # targets), and a table of all forecasts (including all versions) in the project. Note that the table's contents have the same filtering applied as the heatmap. </p> <p>You can filter the display and the results via the form at the top:</p> <ul> <li>Color by: A dropdown of three choices, controls which aspect of forecasts is to be shown: # predictions, # units, or # targets (the default). </li> <li>Target: A dropdown of project's target groups, allows filtering by target. The default is no target filtering. </li> <li>Dates: Opens a date range picker to choose the start and end dates of forecast time zeros that should be included in the display. Defaults to the project's 60 most recent time zeros. You will see the default filled in on the form if it was applied.</li> <li>Min. # submissions: An integer that filters based on how many forecasts a model has made. Only models with at least that many forecasts will be shown. The default is to show only those models' forecasts that are at least 5% of the max number of submissions from any model. You will see the default filled in on the form if it was applied.</li> </ul> <p>There are three buttons in the filter section:</p> <ul> <li>Submit: Applies the form's contents and displays the resulting forecasts.</li> <li>Show Recent: Shows the forecasts matching the default filtering above. This is the equivalent of going straight to this page from the project detail page.</li> <li>Show all: Overrides all filtering to show all of the project's forecasts. Note that this may be slow to load for large projects.</li> </ul> <p>Following are examples from two projects. Hovering the mouse over the heatmap shows information for that particular forecast (only the latest versions are shown), and clicking takes you to that forecast.</p>"},{"location":"ForecastsSummaryPage/#documentation-project","title":"Documentation project","text":""},{"location":"ForecastsSummaryPage/#covidhub-project","title":"Covidhub project","text":""},{"location":"ForecastsVisualizationPage/","title":"Forecasts visualization page","text":"<p>`` Reached via the project detail page's Features section, this page lets you explore forecast data in line chart form. The page has these sections (refer to the screenshot below):</p> <ul> <li>Forecast selection: Located on the left side, this section controls which data is shown.</li> <li>Plot area: Located on the right, this is where the plot is displayed. It shows data for the currently-selected date (indicated in the text above the plot starting \"Forecasts of ...\") which is changed by using the left and right arrow buttons, or the left and right arrow keyboard keys. Hovering the mouse over the data points shows details for model, date, and value. You can customize the plot by using the gray icons that appear in the plot's upper right corner (camera, magnifying glass, etc.) when the mouse is above the plot.</li> </ul> <p>About performance: The visualization feature is currently in beta, and performance is sometimes slow for certain operations. In particular, the ones that retrieve data from Zoltar (i.e., changing Outcome or Unit, or using the arrows) can be delayed depending on the project. </p> <p>Note: The plot area is grayed out while data is being retrieved.</p>"},{"location":"ForecastsVisualizationPage/#example-page","title":"Example page","text":""},{"location":"Help/","title":"Help","text":"<p>Please see the contact section on the index page for our email address, account requests, our email list, and our GitHub repository issues page.</p>"},{"location":"HomePage/","title":"Zoltar Home page","text":"<p>The Zoltar home page zoltardata.com is a simple welcome page with options for listing all projects, signing in, or getting started reading this documentation. Clicking on \"View Projects\" below the \"Projects\" text (or \"Projects\" in the header) takes you to the Zoltar Projects page, which lists all of the projects in the archive.</p>"},{"location":"HomePage/#navigation-header","title":"Navigation header","text":"<p>At the page's top is a black navigation header that's shown on all pages. It contains three icons: Home page (the Zoltar crystal ball in the upper left), and on the right a user dropdown menu and a help icon (question mark) on the far right. The dropdown menu's appearance depends on whether a user is logged in. If you are not logged in then \"Sign in\" is shown as in the screenshot. Clicking \"Sign in\" takes you to a typical login page where you specify your account's user name and password. (To obtain an account, please contact us.) If you are logged in then its text is the user name and the menu items are links to the user profile page, and a logout item. Currently, the page looks like this:</p> <p></p>"},{"location":"HomePage/#projects-page","title":"Projects page","text":"<p>A project is a collection of forecast models and their forecasts, and is described in more detail below. The projects page shows basic project information, including name, owner, description, and (in the \"Summary\" column) information about the number of models, forecasts, and predictions in the project. (See Data Model for more information on terminology like predictions.) Currently, the page looks like this:</p> <p></p> <p>This page shows all projects in the archive that are visible to you, based on whether you are logged in and which projects you account has access to. Thus, some may be hidden. Above the list is some information about this (There are 6 public projects and 1 project with access limited to collaborators only.)</p> <p>From here you can:</p> <ul> <li>Click on a project name to go to its detail page.</li> <li>Create a project if you are signed in. (Any logged in user can create projects via the \"New\" dropdown button towards the top. Clicking it allows you to create one either by uploading a project configuration file or creating via a form where you can fill in some basic details. See Creating projects for details.</li> </ul>"},{"location":"Jobs/","title":"Jobs","text":"<p>Some Zoltar operations can take longer than a handful of seconds to run. For these cases, Zoltar offloads them to a separate worker process so that the web site remains responsive. We call those offloaded operations Jobs, and this page describes how to work with them.</p> <p>These are the activities that return jobs:</p> <ul> <li>Uploading truth, uploading a forecast (does not result in data)</li> <li>Deleting a forecast (no data)</li> </ul> <p>To see a list of all of your jobs, go to your profile page and scroll down to the Jobs section.</p>"},{"location":"Jobs/#workflow","title":"Workflow","text":"<p>When you initiate one of the above activities (either via the Web or the API), Zoltar creates an internal Job to track it and returns that Job's ID so you can check its status and optionally download any corresponding data. The workflow is:</p> <ol> <li>Initiate the activity. This returns a job that you can use to a) track the status of the query, and b) optionally download the job's data.</li> <li>Poll the job until its status is SUCCESS. (You can use the web UI to do this - see Check a job's status for how.)</li> <li>Optionally download the job's data, if applicable. Note that data is available for 24 hours after it's created.</li> </ol>"},{"location":"Jobs/#check-a-jobs-status","title":"Check a job's status","text":"<p>The job detail page is where you can check the status of long-running activities. (Note that how long it takes for a file to be processed depends on how busy the site is.) Note that you must refresh this page to get the latest status (it does not update dynamically).</p> <p>Here's an example job detail page for an upload whose status is SUCCESS:</p> <p></p> <p>You can see that it has the following fields:</p> <ul> <li>User: User who uploaded the file.</li> <li>Status: The upload's status, which is one of the following:<ul> <li>PENDING: The state an upload starts in.</li> <li>CLOUD_FILE_UPLOADED: The uploaded file was successfully saved to temporary cloud storage.</li> <li>QUEUED: The upload file job was successfully enqueued for processing.</li> <li>CLOUD_FILE_DOWNLOADED: The uploaded file was successfully retrieved from temporary cloud storage</li> <li>SUCCESS: The job was successfully completed.</li> <li>FAILED: The job failed.</li> <li>TIMEOUT: The job ran too long and was terminated.</li> </ul> </li> <li>Failure: The failure message if status is FAILED, or \"None\" otherwise. This section will provide some information to help debug the problem.</li> <li>\u0394T: How much time the upload took to process. This is formatted as \"::.\", For example, \"0:00:01.155223\" means the job took zero hours, zero minutes, one second, and 155223 microseconds. <li>Created: Date and time the file was uploaded at.</li> <li>Updated: The last time the upload's status was changed.</li> <li>JSON In: The JSON information passed internally to the upload. You can ignore this.</li> <li>JSON Out: \"\" returned internally by the upload. \"\"</li> <p>Here is a job whose status is FAILED, with a failure message:</p> <p></p>"},{"location":"Jobs/#download-a-jobs-data","title":"Download a job's data","text":"<p>Each job's detail page has a \"Download CSV\" button at the bottom. The button is enabled if the job has corresponding data, and disabled otherwise with the message (No job data) next to the button.</p> <p>The first screenshot above shows a job that has data that can be downloaded. Here's a job with no data available:</p> <p></p>"},{"location":"ModelDetailPage/","title":"Model detail page","text":"<p>A model is the representation of code that generates forecasts. Clicking on a model link takes you to its detail page. The detail page is divided into two vertical sections with bold headings, described next: Details table and Forecasts. Here's an example model detail page:</p> <p></p>"},{"location":"ModelDetailPage/#model-details-table","title":"Model details table","text":"<p>At the top of the page is a table showing information related to the model:</p> <ul> <li>Name: The model's name.</li> <li>Abbreviation: A short name for the model. It's the primary way that models are named.</li> <li>Owner: The model's owner. The owner is the user that created the model (which is done on the home page), and she can edit or delete the model, and upload or delete its forecasts.</li> <li>Project: A link to the project the model belongs to.</li> <li>Team name: The name of the team that developed the model. This is not used directly by Zoltar.</li> <li>Description: Prose provided by model owner. It should include information on reproducing the model's results.</li> <li>Contributors: List of names as specified by the model owner.</li> <li>License: License \"\". This list is based on this file.</li> <li>Notes: \"\"</li> <li>Citation: \"\"</li> <li>Methods: \"\"</li> <li>Home: A link to the model home page.</li> <li>Auxiliary data: An optional link to model-specific data files that were used by the model beyond the project's core data. Not used directly by Zoltar.</li> </ul>"},{"location":"ModelDetailPage/#forecasts","title":"Forecasts","text":"<p>The Forecasts section is a table of the model's forecasts, ordered by project's time zeros. Each row has these fields:</p> <ul> <li>Timezero: The time zero that the forecast applies to. (The data version date, if any, is not shown here.) See Concepts for more about time zeros.</li> <li>Data Source: Text describing where the forecast came from. It can be anything but is typically a data file name, such as a CSV. The source is a link to the forecast's forecast detail page. It says \"(No data)\" if a forecast has not yet been uploaded for that time zero. </li> <li>Upload Time: The date and time that the forecast was uploaded to Zoltar.</li> <li>Issued at: The datetime identifying the forecast's version. If there is more than one version for this forecast's timezero then text like \"Version 1 of 2\" will show in the Version column. (See Forecast Versions for more about versions.)</li> <li>Version: Text describing the version, such as \"Version 1 of 2\". It is empty if there's only one forecast version for the timezero.</li> <li>Action: A button that is either a green upload icon if there is no data associated with the time zero, or a red delete button otherwise. See Forecasts for instructions on how to upload forecasts, and File formats for how forecast files are structured in Zoltar. This feature is enabled only for project owners or model owners.</li> </ul> <p>The Hide if no data checkbox, if checked, shows only those Timezeros that have an uploaded forecast. Uncheck it to see all Timezeros (necessary if you want to upload any). </p>"},{"location":"Models/","title":"Managing forecast models","text":"<p>A forecast model is the representation of a team's code that generates forecast data, and is contained by a project. Described here are the common operations done with models. Note that you must have a Zoltar account to manage models, and in particular you must be either the model's owner or the project owner to do the following.</p>"},{"location":"Models/#create-a-model","title":"Create a model","text":"<p>Models are created via a form:</p> <ol> <li>Go to the project detail page where you want to create a model. </li> <li>Click the green \"New\" button to the right of the models list.</li> <li>Fill in the fields and click \"Create\". Most fields are required, which will be indicated with error messages when you submit the form and any are missing.</li> </ol>"},{"location":"Models/#edit-a-model","title":"Edit a model","text":"<p>Models are edited via a form:</p> <ol> <li>Go to the model detail page of the one you want to edit.</li> <li>Click the green edit pencil button to the right of the model name.</li> <li>Fill in the fields and click \"Save\".</li> </ol>"},{"location":"Models/#delete-a-model","title":"Delete a model","text":"<p>Finally, to delete a model:</p> <ol> <li>Go to the model detail page of the one you want to delete.</li> <li>At the top, to the right of the model name, click the red delete trash can button and then click \"Delete\" in the confirmation dialog that appears. Note that this cannot be undone!</li> </ol>"},{"location":"ProjectDetailPage/","title":"Project detail page","text":"<p>A project is the main element for representing a forecasting challenge. It has an owner (a registered user in the system), and zero or more model owners (also users in the system). A project owner can do anything to the project, but model owners are limited to creating, editing, and deleting forecast models, and uploading and deleting forecasts. (To become a model owner you must contact the project owner.)</p> <p>Each project's detail page is divided into five vertical sections with bold headings, described next: Details table, Models, Units, Targets, and Time zeros. Here's an example (the bottom has been cut off):</p> <p></p>"},{"location":"ProjectDetailPage/#project-details-table","title":"Project details table","text":"<p>At the top of the page is a table showing this information related to the project:</p> <ul> <li>Summary: The same summary as on the home page: The number of models and forecasts in the project. Note that this may be an estimate.</li> <li>Owner: The user that has full control of the project, and includes authorization to view, edit, and delete anything (models, forecasts, etc.) The owner is the user that created the project (which is done on the home page).</li> <li>Model owners: A list of users who can view the project (applicable only if the project is private), and who can create and delete models, and upload and delete forecasts. The project owner specifies model owners when she creates or edits the project.</li> <li>Visibility: A project can be either public or private, which controls project visibility, including accessing data. Project owners set this when they create the project. Visibility applies to list and detail pages, along with API endpoints. Public projects are viewable by anyone, users and anonymous visitors included. Private projects can only be viewed by project owners and model owners. This means that in order to grant a user access to a private account, the project owner must add her to the project's model owners list, even if that user will not be managing any models.</li> <li>Description: Prose provided by project owner. It should cover these topics:<ul> <li>Information about the \"real-time-ness\" of data, i.e., revised/unrevised.</li> <li>Details about how models interpret time zeros and data version dates.</li> <li>Data file naming scheme.</li> </ul> </li> <li>Home: A link to the project's home page, which might include details about any competitions, source code, team members, included models, etc.</li> <li>Core data: A link to a page that contains data (e.g., CSV files) used to train models. For model competitions, it should include all data sets made available to everyone in the challenge, including supplemental data like Google queries or weather data. Ideally Zoltar users interested in re-running a project's models have all they need in the home and core data directories. However, they are not used directly by Zoltar.</li> <li>Truth data: A data file containing target ground truth that the project owner uploads. This data contains observed target values for time zeros and units in the project, and is a project-agnostic way to capture actual values that models predicted for. It is used to extract the 'actual' data used in the D3 component's TimeChart. See Truth for details.</li> <li>Visualization: Takes you to the Forecasts visualization page.</li> <li>Summary: \"\" forecasts summary.</li> <li>Explorer: \"\" project explorer.</li> <li>Download: \"\" download forecasts.</li> </ul>"},{"location":"ProjectDetailPage/#forecast-models","title":"Forecast models","text":"<p>The Models section lists the project's forecast models by name, with links to model detail pages and each model's oldest and newest forecast details (see details below), with the latter being a link to that forecast's detail page. A model captures a team's prediction challenge effort, and includes forecasts for some or all time zeros defined for the project. (See Concepts for more about time zeros.) If you're a project owner or model owner then a \"New\" button is shown that takes you to a form for creating a model. Clicking on a model's name takes you to its model detail page.</p>"},{"location":"ProjectDetailPage/#units","title":"Units","text":"<p>This section lists information about the units in the project: <code>name</code> and <code>abbreviation</code>. (See Concepts for more about units.) These were defined by project owner when creating the project. Often units are used to represent locations or regions that targets apply to.</p>"},{"location":"ProjectDetailPage/#targets","title":"Targets","text":"<p>This section lists information about project forecast targets, which are a central Zoltar concept. See Targets for more about them. Like units, these were created by the project owner. Some of these parameters are optional - this table shows which apply based on target type.</p> <p>The table includes the following columns:</p> <ul> <li>Target group: This column is either a target's name, or a derived name from a group of related targets (step-ahead ones whose step ahead increment is in the name).</li> <li># Targets: How many targets are in the group, or 1 if not a group.</li> <li>Type: The target's type.</li> <li>Outcome Variable: Human-readable string naming the target variable, e.g., \"Incident cases\".</li> <li>Step Ahead?: Shows two pieces of information: 1) Whether the target is a \"step ahead\" one, and (if so) 2) what the \"step ahead increment\" is. (Step ahead targets are used to predict values in the future, and are used by some analysis tools.)</li> <li>Example Target: A specific target's name if a group, or the one target's name otherwise.</li> </ul>"},{"location":"ProjectDetailPage/#time-zeros","title":"Time zeros","text":"<p>This section details the project's <code>time zeros</code> . (See Concepts for more about time zeros.) It has these columns:</p> <ul> <li>Time zero: The date from which a forecast originates and to which targets are relative (i.e. a \"2-week-ahead forecast\" is two weeks ahead of the time zero). Every forecast has a time zero. See Concepts for more about time zeros.</li> <li>Data version date: An optional piece of metadata for a forecast. If it exists, it is associated with a time zero. It refers to the latest date at which any data source used for the forecasts should be considered. If present, it can be used externally by system users to recreate model results by \"rolling back\" the core data to a particular state.</li> <li># Forecasts: A count of the number of forecasts for this time zero.</li> <li>Starts Season: Shows two pieces of information: 1) Whether the time zero is starts a season (it is blank if it does not start a season), and 2) the season name itself (which indicates that the time zero does start a season.)</li> </ul>"},{"location":"ProjectExplorerPage/","title":"Project explorer page","text":"<p>Reached via the project detail page's Features section, this page has two tabs that show unit and target summaries for each model in the project, respectively, along with a link to the model's latest forecast.</p>"},{"location":"ProjectExplorerPage/#latest-units-tab","title":"Latest units tab","text":""},{"location":"ProjectExplorerPage/#latest-targets-tab","title":"Latest targets tab","text":""},{"location":"Projects/","title":"Manging Projects","text":"<p>Projects are the central organizing concept in Zoltar. They define the units, targets and time zeros that forecasts are relative to, and contain the forecast models that teams use to represent a forecasting challenge. Described here are the common operations done with projects. Note that you must have a Zoltar account to create a project, and only project owners can edit or delete projects. (Fill out the Zoltardata.com user request form to be added to our beta-tester invitation queue.)</p>"},{"location":"Projects/#create-a-project","title":"Create a project","text":"<p>There are two ways to create a project: by editing a form or by uploading a JSON project configuration file. Using a form is a quick way to make a project to get a team started, but is very limited in what can be specified, mainly the information in the Details table as described in the link above (name, visibility, description, home URL, core data, logo url, and model owners). The second method - using a configuration file - is preferred as it allows specifying all aspects of a project. Both methods are accessed via the green \"New\" dropdown button at the top of the Projects page.</p>"},{"location":"Projects/#to-create-a-project-via-a-form","title":"To create a project via a form:","text":"<ol> <li>Click the green \"New\" button at the top of the projects list and select \"From form...\"</li> <li>Fill in the fields and click \"Create\". Most fields are required, which will be indicated with error messages when you submit the form and any are missing. </li> </ol>"},{"location":"Projects/#to-create-a-project-via-a-configuration-file","title":"To create a project via a configuration file:","text":"<ol> <li>Click the green \"New\" dropdown button at the top of the projects list and select \"From file...\"</li> <li>In the dialog that appears, click the \"Browse...\" button to select a project configuration JSON file.</li> <li>Click the green upload button.</li> </ol> <p>Depending on the file you uploaded you will see either a message noting success (\"Created project __\" message at the top of the page) or an error page with a message showing the details.</p> <p>It may be helpful to get started by downloading and modifying an existing project's configuration file:</p> <ol> <li>Go to the project of interest's detail page.</li> <li>At the top, to the right of the project name, click the green download \"Config\" button and save the file.</li> </ol> <p>Note that the <code>id</code> and <code>url</code> fields in the downloaded file are ignored when creating a new project from that file, and can safely be edited out when creating your new file.</p>"},{"location":"Projects/#edit-a-project","title":"Edit a project","text":"<p>There are two ways to edit a project, similar to creating one as described above: by editing a form or by uploading an edited version of the original JSON project configuration file that was used to create the project. Both are accessed from the project's detail page using the green \"Edit\" dropdown button to the right of the project name.</p>"},{"location":"Projects/#to-edit-a-project-via-a-form","title":"To edit a project via a form:","text":"<ol> <li>Click the green \"Edit\" dropdown button at the top of the projects list and select \"From form...\"</li> <li>Edit the fields as above and then click \"Save\".</li> </ol>"},{"location":"Projects/#to-edit-a-project-via-a-configuration-file","title":"To edit a project via a configuration file:","text":"<ol> <li>Click the green \"Edit\" dropdown button at the top of the projects list and select \"From file...\"</li> <li>In the dialog that appears, click the \"Browse...\" button to select a project configuration JSON file.</li> <li>Click the green edit button.</li> </ol> <p>This invokes a kind of \"diff\" analysis that compares the uploaded file to the to-be-edited project's current structure. The result is shown on a \"Confirm project configuration changes\" page listing the changes you're about to apply. (You will see an error page if there's a problem with the uploaded file.) The confirmation page has three possible sections:</p> <ul> <li>A sentence at the top summarizing the changes, including whether any will delete data.</li> <li>All changes: All changes that were detected, including both non-data-destructive and destructive ones.</li> <li>Changes that will delete data: Lists just the data-destructive changes, including details about what kinds of predictions (or truth) will be deleted, and how many of each.</li> </ul> <p>Here's an example:</p> <p></p> <p>The diff function categorizes each change according to the type of change and what item it applies to. For example, the first change under All changes in the above screenshot is the editing of the project's \"name\" field. Another change is the third one in that list, which is the removal of the unit abbreviated \"loc3\". Here are all the kinds of change that might be identified:</p> <ul> <li>OBJ_ADDED: An item of a particular type will be added to the project. For example, adding a new unit abbreviated \"loc4\".</li> <li>OBJ_REMOVED: \"\" will be removed \"\" from a project. Removing the target \"pct next week\", say. </li> <li>FIELD_EDITED: An item's field will be set to a new value. For example, setting the \"data_version_date\" of the project's time zero named \"2011-10-09\".</li> <li>FIELD_ADDED: Set an item's field that was not set before. Adding a \"season_name\" to the time zero \"2011-10-16\", say.</li> <li>FIELD_REMOVED: Remove an item's field, such as the \"numeric_horizon\" of the target \"cases next week\".\" </li> </ul> <p>As implied above, there are four types of item that can be changed: The project itself or one of its units, targets, or time zeros.</p>"},{"location":"Projects/#delete-a-project","title":"Delete a project","text":"<p>Finally, to delete a project:</p> <ol> <li>Go to the project of interest's detail page.</li> <li>At the top, to the right of the project name, click the red delete trash can button and then click \"Delete\" in the confirmation dialog that appears. Note that this cannot be undone!</li> </ol>"},{"location":"ReleaseNotes4_0/","title":"Welcome to Zoltar 4!","text":"<p>Zoltar version 4 is a major upgrade to Zoltar's fundamental forecast data representation, enabling new forecast versioning features. Read on for details.</p>"},{"location":"ReleaseNotes4_0/#forecast-versioning","title":"Forecast versioning","text":"<p>Recall that the version of Zoltar prior to this new one added support for storing forecast versions. From the new Forecast Versions page:</p> <p>Forecasts in Zoltar can be versioned. A version is identified by the combination of the forecast's model, time zero, and issue date. Multiple versions for the same model and time zero will have different issue dates. These can be identified by the gray version numbering shown in the version column on the model detail page's Forecasts list (e.g., \"1 of 2\"), and on the Issue date row of the forecast detail page's information table at the top (e.g., \"(Version 3 of 3)\").</p>"},{"location":"ReleaseNotes4_0/#data-migration","title":"Data migration","text":"<p>This upgrade required migrating existing data, which we've done, but which resulted in a few forecasts that needed modifying. We've notified individual modelers of any problematic ones.</p>"},{"location":"ReleaseNotes4_0/#forecast-version-rules","title":"Forecast version rules","text":"<p>We now enforce these version rules:</p> <ol> <li>No uploaded forecast can have no rows of data.</li> <li>No uploaded forecast can load 100% duplicate data of a previous version.</li> <li>New forecast versions cannot imply any retracted prediction elements in existing versions, i.e., you cannot load data that's a subset of the previous forecast's data.</li> <li>New forecast versions cannot be positioned before any existing versions.</li> <li>Editing a version's issue_date cannot reposition it before any existing forecasts.</li> <li>Deleted forecasts cannot be positioned before any newer versions.</li> </ol> <p>Bullet three means we require forecasts to be uploaded in <code>issue_date</code> order. If you need to back-fill older versions, you'll first have to delete forecasts with newer issue_dates before uploading older ones.</p>"},{"location":"ReleaseNotes4_0/#skipping-of-duplicate-forecast-data","title":"Skipping of duplicate forecast data","text":"<p>Zoltar now implements a space optimization where duplicate data between forecast versions is not saved on disk. The forecast query feature hides this from users by reassembling the data as needed.</p>"},{"location":"ReleaseNotes4_0/#forecast-retractions","title":"Forecast retractions","text":"<p>Zoltar now supports the notion of \"retracting\" forecasts. Such retractions mark individual prediction elements so that the <code>as_of</code> forecast query parameter hides those predictions. The retracted data is not deleted, and earlier <code>as_of</code> values will still return that data when passing an <code>as_of</code> value that is prior to the retraction.</p> <p>From the Retracted predictions page:</p> <p>Zoltar supports retracting individual prediction elements. A retracted element marks a particular combination of unit, target, and prediction type to be ignored when executing a forecast query if the user passes an <code>as_of</code> value that's on or later than the retraction <code>issue_date</code>. In that case there will be no value returned for the retracted prediction element. However, an <code>as_of</code> that's earlier than the forecast's <code>issue_date</code> will result in the element's pre-retraction value being returned. Users who want to return the forecast's original data including retractions, should use the API or web UI as documented in download a single forecast. In this case Zoltar will include retractions as they were uploaded - with <code>null</code> \"prediction\" value in the JSON (see below).</p> <p>For users of the quantile forecast CSV format:</p> <p>Retractions are indicated in quantile CSV files by <code>NULL</code> point and quantile values. The libraries take care of converting these into the JSON below. See Quantile forecast format (CSV) for quantile retraction format details.</p>"},{"location":"ReleaseNotes4_1/","title":"Welcome to Zoltar 4.1","text":"<p>Zoltar version 4.1 upgrades Zoltar's forecast versioning to support datetime versions rather than date ones. This allows multiple versions for a particular date, as requested by users. </p>"},{"location":"ReleaseNotes4_1/#forecast-versioning","title":"Forecast versioning","text":"<p>Recall that the version of Zoltar prior to this new one added support for storing forecast versions. From the new Forecast Versions page:</p> <p>Forecasts in Zoltar can be versioned. A version is identified by the combination of the forecast's model, time zero, and issued_at fields. Multiple versions for the same model and time zero will have different issued_at values. These can be identified by the gray version numbering shown in the version column on the model detail page's Forecasts list (e.g., \"1 of 2\"), and on the Issued at row of the forecast detail page's information table at the top (e.g., \"(Version 3 of 3)\").</p>"},{"location":"ReleaseNotes4_1/#data-migration","title":"Data migration","text":"<p>This upgrade required migrating existing forecasts' <code>issue_date</code> dates to <code>issued_at</code> timezone-aware datetimes. We arbitrarily chose 12 noon UTC as the time of day.</p>"},{"location":"ReleaseNotes4_2/","title":"Welcome to Zoltar 4.2","text":"<p>Zoltar version 4.2 upgrades Zoltar's truth storage to support versions, aka \"batches\", along with <code>as_of</code> truth query support. Please see:</p> <ul> <li>How truth is represented in Zoltar</li> <li>Querying a project's truth</li> </ul>"},{"location":"ReleaseNotes4_3/","title":"Welcome to Zoltar 4.3","text":"<p>Zoltar version 4.3 adjusts Zoltar's Target data model to add <code>outcome_variable</code> to all targets, and to add <code>numeric_horizon</code> and <code>reference_date_type</code> fields to <code>is_step_ahead</code> ones. These changes support upcoming visualization features.</p>"},{"location":"ReleaseNotes4_4/","title":"Welcome to Zoltar 4.4","text":"<p>Zoltar version 4.4 adds a beta forecast visualization feature. Details are under the \"Web Tour\":</p> <ul> <li>Project detail page</li> <li>Forecasts visualization page</li> <li>Visualization options page</li> </ul>"},{"location":"ReleaseNotes4_5/","title":"Welcome to Zoltar 4.5","text":"<p>Zoltar version 4.5 adds support for uploading forecast data in CSV format via both the programmatic RESTful API and the web UI. Uploading in this format is in addition to uploading in the existing JSON format support. Details are below:</p> <p>Note: Support for operations involving forecast data in CSV format vs. JSON format is still inconsistent after this update: Uploading a forecast can now be done using either format, but Downloading multiple forecasts is in CSV format whereas downloading a single forecast is in JSON format.</p> <ul> <li>Forecast data format (CSV): Describes the CSV file format for forecast data.</li> <li>Upload a forecast: Explains how to upload a forecast in either JSON or CSV format using the web UI.</li> <li>Download forecasts via the web UI: Shows how to download forecast data in Forecast data format (CSV) using the web UI.</li> </ul>"},{"location":"ReleaseNotes4_6/","title":"Welcome to Zoltar 4.6","text":"<p>Zoltar version 4.6 adds three new prediction types: <code>mean</code>, <code>median</code>, and <code>mode</code>. Also, this version removes the beta feature to download the Zoltar database for local use.</p>"},{"location":"Targets/","title":"Forecast Targets in Zoltar","text":"<p>Targets are the fundamental data structure of a forecast. In Zoltar, a single forecast made by a model may give predictions for multiple targets. For example, a single forecast might include a forecast of 1- and 2-week-ahead values and a prediction of when the time series will reach its maximum in a given period of time. When a project is created, the project owner specifies which targets should be part of any submitted forecast. As we will see below, targets have specific properties, and there are several types of targets that determine which properties and features pertain to a particular target.</p>"},{"location":"Targets/#target-types","title":"Target types","text":"<p>continuous: A quantitative target whose range encapsulates a section of the real number line. </p> <p>Examples: percentage of all doctors' office visits due to influenza like-illness, or disease incidence per 100,000 population.</p> <p>discrete: A quantitative target whose range is a set of integer values. </p> <p>Example: the number of incident cases in a time period.</p> <p>nominal: A nominal, unordered categorical target. </p> <p>Example: severity level in categories of \"low\", \"moderate\", and \"high\".</p> <p>binary: A binary target, with a defined outcome that can be seen as a true/false. </p> <p>Example: does the maximum value of a variable exceed some threshold C in a given period of time.</p> <p>date: A target with a discrete set of calendar dates as possible outcomes. </p> <p>Example: the calendar week in which peak incidence occurs (represented by the Sunday of that week.</p>"},{"location":"Targets/#target-parameters","title":"Target parameters","text":"<p>When created, all targets have a set of parameters that must be defined. Each type of target then has a set of additional, sometimes, optional parameters. These are all defined below.</p>"},{"location":"Targets/#summary-of-allowed-optional-and-required-parameters-by-target-type","title":"Summary of allowed, optional, and required parameters, by target type","text":"<p>Here is a table that summarizes which are allowed, optional, and required, by type. legend: 'x' = required, '(x)' = required if <code>is_step_ahead</code> is <code>true</code>, '-' = disallowed, '~' = optional.</p> target type type name description outcome_variable is_step_ahead numeric_horizon RDT range cats continuous x x x x x (x) (x) ~ ~ discrete x x x x x (x) (x) ~ ~ nominal x x x x x (x) (x) - x binary x x x x x (x) (x) - - date x x x x x (x) (x) - x"},{"location":"Targets/#required-parameters-for-all-targets","title":"Required parameters for all targets","text":"<ul> <li>name: A brief name for the target. (The number of characters is not limited, but brevity is helpful.)</li> <li>description: A verbose description of what the target is. (The number of characters is not limited.)</li> <li>type: One of the five target types named above, e.g., <code>continuous</code>.</li> <li>is_step_ahead: <code>true</code> if the target is one of a sequence of targets that predict values at different points in the future.</li> <li>numeric_horizon: An integer indicating the forecast horizon represented by this target. It is required if <code>is_step_ahead</code> is <code>true</code>. </li> <li>reference date type (RDT): An integer that indicates how this target calculates <code>reference_date</code> and <code>target_end_date</code> from a timezero. It is required if <code>is_step_ahead</code> is <code>true</code>. The allowed values are hard-coded (see the valid reference date types table below) and will be used for an upcoming visualization feature (more documentation to come then).</li> </ul>"},{"location":"Targets/#valid-reference-date-types","title":"valid reference date types","text":"<p>Following are the allowed reference date types. <code>id</code> is the integer value that's actually stored in the database, <code>name</code> is the \"official\" unique name used by project configuration files, and <code>abbreviation</code> is used to calculate target group names.</p> id name abbreviation 0 DAY day 1 MMWR_WEEK_LAST_TIMEZERO_MONDAY week 2 MMWR_WEEK_LAST_TIMEZERO_TUESDAY week 3 BIWEEK biweek 4 MMWR_WEEK_LAST_TIMEZERO_SATURDAY biweek"},{"location":"Targets/#parameters-specific-to-continuous-targets","title":"Parameters specific to continuous targets","text":"<ul> <li>range: (Optional) a numeric vector of length 2 specifying a lower and upper bound of a range for the continuous target. The range is assumed to be inclusive on the lower bound and open on the upper bound, e.g. [a, b). If range is not specified than range is assumed to be (-infty, infty).</li> <li>cats: (Optional, but uploaded <code>Bin</code> prediction types will be rejected unless these are specified) an ordered set of numeric values indicating the inclusive lower-bounds for the bins of binned distributions. E.g. if <code>cats</code> is specified as [0, 1.1, 2.2] then the implied set of valid intervals would be [0,1.1), [1.1,2.2) and [2.2, \\infty). Additionally, if <code>range</code> had been specified as [0, 100] in addition to the above <code>cats</code>, then the final bin would be [2.2, 100].    </li> </ul> <p>If both <code>range</code> and <code>cats</code> are specified, then min(<code>cats</code>) must equal the lower bound and max(<code>cats</code>) must be less than the upper bound of <code>range</code>.</p>"},{"location":"Targets/#parameters-specific-to-discrete-targets","title":"Parameters  specific to discrete targets","text":"<ul> <li>range: (Optional, but uploaded <code>Bin</code> prediction types will be rejected unless <code>range</code> is specified) an integer vector of length 2 specifying a lower and upper bound of a range for the continuous target. The range is assumed to be inclusive on both the lower and upper bounds, e.g. [a, b]. If range is not specified than range is assumed to be (-infty, infty).</li> <li>cats: (Optional, and can only be specified if <code>range</code> is also specified) an ordered set of integer values indicating the inclusive lower-bounds for the bins of binned distributions. E.g. if <code>cats</code> is specified as [0, 10, 20, 30, 40, 50] and <code>range</code> is specified as [0, 100] then the implied set of valid categories would be [0,10), [10, 20), [20, 30), [30, 40), [40, 50) and [50, 100].</li> </ul> <p>If both <code>range</code> and <code>cats</code> are specified, then min(<code>cats</code>) must equal the lower bound and max(<code>cats</code>) must be less than the upper bound of <code>range</code>.</p>"},{"location":"Targets/#parameters-specific-to-nominal-targets","title":"Parameters  specific to nominal targets","text":"<ul> <li>cats: (Required) a list of strings that name the categories for this target. Categories must not include the following strings: <code>\"\"</code>, <code>\"NA\"</code>, or <code>\"NULL\"</code> (case does not matter).</li> </ul>"},{"location":"Targets/#parameters-specific-to-binary-targets","title":"Parameters  specific to binary targets","text":"<p>None.</p>"},{"location":"Targets/#parameters-specific-to-date-targets","title":"Parameters  specific to date targets","text":"<ul> <li>cats: (Required) a list of dates in <code>YYYY-MM-DD</code> format. These are the only dates that will be considered as valid input for the target. </li> </ul>"},{"location":"Targets/#valid-prediction-types-by-target-type","title":"Valid prediction types by target type","text":"target type data_type point bin sample named quantile mean median mode continuous float x x x (1) x x x x discrete int x x x (2) x x x x nominal text x x x - - x binary boolean x x x - - x x date date x x x - x x x x <p>Legend: (1) = valid named distributions are <code>norm</code>, <code>lnorm</code>, <code>gamma</code>, <code>beta</code> (2) = valid named distributions are <code>pois</code>, <code>nbinom</code>, <code>nbinom2</code></p>"},{"location":"Truth/","title":"Ground truth","text":""},{"location":"Truth/#how-truth-is-represented-in-zoltar","title":"How truth is represented in Zoltar","text":"<p>Zoltar supports storing ground truth data for each project that desires to do scoring. Before describing details below about managing truth, we need to lay out how Zoltar stores truth and how it supports truth versioning.</p> <p>When a truth file is loaded (see file format information below), Zoltar groups the input rows (point predictions) by timezero and then loads all predictions for each timezero into one forecast in an internally-managed \"oracle\" model. This results in a group of forecasts that stemmed from the same truth file, and we call this group a \"batch\". The loader sets all the oracle forecasts for a particular batch to have the same <code>source</code> and <code>issued_at</code> fields, and that 2-tuple is how we identify batches.</p> <p>(Unlike user-created models, the oracle model is not directly worked with; it's all handled through truth-specific functionality, but you will see oracle and batch information in the user interface.)</p> <p>Because truth is stored as Zoltar forecasts, truth versioning is supported: each uploaded batch represents a version.</p>"},{"location":"Truth/#manging-truth-data","title":"Manging truth data","text":"<p>Truth data is specified as a CSV file as documented in Truth data format, and each project is responsible for generating the CSV file for their particular set of time zeros, units and targets. You can tell whether truth has been uploaded to a project by looking at the Truth Data row in the Project details table section of the project detail page. It will either be a link with the truth data file name (which means truth is present) and information about the latest version uploaded (AKA a \"batch\" described above) in parentheses, or a (No truth data) link if not truth has been loaded. Clicking on the link takes you to the Truth detail page documented in Truth detail page below where you can browse, upload, and download truth, depending on your permissions.</p> <p>Here's a screenshot showing a project where truth has been uploaded (circled in red). You can see that two truth file versions have been loaded, resulting in two batches of oracle forecasts. The issue date of the latest batch is shown:</p> <p></p> <p>Following are operations on truth data that you can do from within the Zoltar UI.</p>"},{"location":"Truth/#view-truth-details","title":"View truth details","text":"<p>Clicking on the truth link above takes you to the truth details page:</p> <p></p> <p>Here you see a small information table at the top showing how many truth files/batches have been uploaded, a link to the oracle model (so you can see the individual oracle forecasts if need be), and an optional \"Upload\" form if you have permission to upload. Following that information is a \"Batches\" table showing information about each truth file that's been loaded, and how many oracle forecasts were loaded from the file. Finally, a \"Delete Latest\" button is show if you have permission to delete truth. Due to Zoltar's forecast version rules, only the latest batch can be deleted.</p>"},{"location":"Truth/#upload-truth","title":"Upload truth","text":"<p>Follow these steps to upload a truth CSV file:</p> <ol> <li>Go to the Truth detail page of the project of interest.</li> <li>Click the \"Browse...\" button in the Upload row.</li> <li>In the dialog that appears, select a truth data CSV file in Zoltar's Truth data format.</li> <li>Click the green upload button.</li> <li>If the file is OK then you will be taken to an upload file job detail page that shows the status of your upload, with the message \"Queued the truth file _ for uploading.\", where _ is your file's name. See Check an upload's status below for this page's details.</li> <li>Once the upload is successful (you can refresh the upload file job page to check) then you will the file name as a link as described above.</li> <li>If there was a problem uploading then you will see the upload's status as FAILED. The Failure section will provide some information to help debug the problem.</li> </ol>"},{"location":"Truth/#download-truth","title":"Download truth","text":"<p>Here are the steps to download a project's truth data as a CSV file in Zoltar's Truth data format:</p> <ol> <li>Go to the project detail page of the project of interest.</li> <li>Click the truth link above go to the Truth detail page page.</li> <li>Click the 1. Click the \"Download CSV\" button and save the file.</li> </ol>"},{"location":"Truth/#delete-truth","title":"Delete truth","text":"<p>To delete a project's truth data, use the \"Delete Latest\" button described above.</p>"},{"location":"TruthQueryFormat/","title":"Querying a project's truth","text":"<p>Truth can be downloaded from the web UI as described in Download truth or through the API. The workflow is identical to downloading forecasts as described at forecast query format page) except for the following. (Note: data limits are the same as querying forecasts.)</p>"},{"location":"TruthQueryFormat/#query-format","title":"Query format","text":"<p>The format is identical to querying forecasts except that only the four fields <code>units</code>, <code>targets</code>, <code>timezeros</code>, and <code>as_of</code> are allowed, which function identically.</p> <p>Here's a full example:</p> <pre><code>{\"units\": [\"US\"],\n \"targets\": [\"0 day ahead cum death\", \"1 day ahead cum death\"],\n \"timezeros\": [\"2020-05-14\", \"2020-05-09\"],\n  \"as_of\": \"2021-05-10 12:00 UTC \"\n}\n</code></pre>"},{"location":"TruthQueryFormat/#data-format","title":"Data format","text":"<p>The truth is returned in the CSV format documented at Truth data format (CSV).</p>"},{"location":"UserIntro/","title":"User guide","text":"<p>This section is a how-to for common Zoltar tasks. Use the navigation sidebar to go to the section of interest. Note that many of the operations you can do via the web interface can also be accomplished prgammatically via the Zoltar API.</p>"},{"location":"Validation/","title":"Forecast validation","text":"<p>Forecasts stored in Zoltar are validated upon upload based on the expected structure of each forecast. Below, we document the checks and tests that are performed on all forecasts. We first list the test that is performed for every prediction, and after that, tests are broken down by the class of prediction.</p>"},{"location":"Validation/#definitions","title":"Definitions","text":"<p>For clarity, we define specific terms that we will use below.</p> <ul> <li>Forecast: a collection of data specific to a project &gt; model &gt; timezero.</li> <li>Prediction: a group of a prediction elements(s) specific to a unit and target.</li> <li>Prediction Element: data that define a unique single prediction, specific to the class of prediction it is.</li> <li>Prediction Class: data structures representing different types of predictions, e.g. \"point\" and \"bin\" (see Data Model for more detail)</li> <li>Target Type: the classification for a specific forecast target, one of \"continuous\", \"discrete\", \"nominal\", \"binary\" or \"date\" (see Targets for more info)</li> <li>Database Row(s): the entry(ies)/row(s) in the database that comprise a prediction element.</li> </ul>"},{"location":"Validation/#tests-for-all-prediction-elements","title":"Tests for all prediction elements","text":"<p>These tests are performed when a forecast is created or updated.</p> <ul> <li>The prediction's class must be valid for its target's type (see Valid prediction types by target type.</li> <li>Within a prediction, there cannot be more than 1 prediction element of the same class.</li> </ul>"},{"location":"Validation/#tests-for-prediction-elements-by-prediction-class","title":"Tests for prediction elements by Prediction Class","text":"<p>These tests are performed when a forecast is created or updated.</p>"},{"location":"Validation/#bin-prediction-elements","title":"<code>bin</code> prediction elements","text":"<ul> <li>If a bin prediction element exists, it should have &gt;=1 database rows.</li> <li><code>|cat| = |prob|</code>. The number of elements in the <code>cat</code> and <code>prob</code> vectors should be identical.</li> <li><code>cat</code> (i, f, t, d, b): Entries in the database rows in the <code>cat</code> column cannot be <code>\u201c\u201d</code>, <code>\u201cNA\u201d</code> or <code>NULL</code> (case does not matter). Entries in <code>cat</code> must be a subset of <code>Target.cats</code> from the target definition.</li> <li><code>prob</code> (f): [0, 1]. Entries in the database rows in the <code>prob</code> column must be numbers in [0, 1]. For one prediction element, the values within prob must sum to 1.0 (values within +/- 0.001 of 1 are acceptable).</li> <li>The data format of <code>cat</code> should correspond or be translatable to the <code>type</code> as in the target definition.</li> </ul>"},{"location":"Validation/#named-prediction-elements","title":"<code>named</code> prediction elements","text":"<p>We note that <code>named</code> predictions currently only support fairly simple distributions. We currently support distributions with up to three parameters. Future versions of Zoltar could support distributions with larger numbers of parameters.</p> <ul> <li>If a named prediction element exists, it should have exactly 1 Database Row.</li> <li><code>family</code>: must be one of the abbreviations shown in the table below.</li> <li><code>param1</code>, <code>param2</code>, <code>param3</code> (f): The number of param columns with non-NULL entries count must match family definition (see note below).</li> <li>Parameters for each distribution must be within valid ranges, which, if constraints exist, are specified in the table below.</li> </ul> <p>For reference, here is the mapping between the generic parameter names and the family-specific use of them (based on predx_classes.md):</p> Family abbreviation param1 param2 param3 Normal <code>norm</code> mean sd&gt;=0 - LogNormal <code>lnorm</code> mean sd&gt;=0 - Gamma <code>gamma</code> shape&gt;0 rate&gt;0 - Beta <code>beta</code> a&gt;0 b&gt;0 - Poisson <code>pois</code> rate&gt;0 - - Neg.Binom1 <code>nbinom</code> r&gt;0 0&lt;=p&lt;=1 - Neg.Binom2 <code>nbinom2</code> mean&gt;0 disp&gt;0 -"},{"location":"Validation/#point-mean-median-and-mode-prediction-elements","title":"<code>point</code>, <code>mean</code>, <code>median</code>, and <code>mode</code> prediction elements","text":"<ul> <li>If a <code>point</code>, <code>mean</code>, <code>median</code>, or <code>mode</code> prediction element exists, it should have exactly 1 Database Row for all targets.</li> <li><code>value</code> (i, f, t, d, b): Entries in the database rows in the <code>value</code> column cannot be <code>\u201c\u201d</code>, <code>\u201cNA\u201d</code> or <code>NULL</code> (case does not matter).</li> <li>The data format of <code>value</code> should correspond or be translatable to the <code>type</code> as in the target definition.</li> </ul>"},{"location":"Validation/#sample-prediction-elements","title":"<code>sample</code> prediction elements","text":"<ul> <li>If a sample prediction element exists, it should have &gt;=1 database rows.</li> <li><code>sample</code> (i, f, t, d, b): Entries in the database rows in the <code>sample</code> column cannot be <code>\u201c\u201d</code>, <code>\u201cNA\u201d</code> or <code>NULL</code> (case does not matter).</li> <li>The data format of <code>sample</code> should correspond or be translatable to the <code>type</code> as in the target definition.</li> </ul>"},{"location":"Validation/#quantile-prediction-elements","title":"<code>quantile</code> prediction elements","text":"<ul> <li>If a quantile prediction element exists, it should have &gt;=1 database rows.</li> <li><code>|quantile| = |value|</code>. The number of elements in the <code>quantile</code> and <code>value</code> vectors should be identical.</li> <li><code>quantile</code> (f): [0, 1]. Entries in the database rows in the <code>quantile</code> column must be numbers in [0, 1]. <code>quantile</code>s must be unique.</li> <li><code>value</code> (i, f, d): Entries in <code>value</code> must be non-decreasing as quantiles increase. Entries in <code>value</code> must obey existing ranges for targets.</li> <li>The data format of <code>value</code> should correspond or be translatable to the <code>type</code> as in the target definition.</li> </ul>"},{"location":"Validation/#tests-for-predictions-by-target-type","title":"Tests for predictions by target type","text":"<p>These tests are performed when a forecast is created or updated.</p>"},{"location":"Validation/#continuous","title":"\"continuous\"","text":"<ul> <li>Within one prediction, there can be at most one of the following prediction elements, but not both: {<code>named</code>, <code>bin</code>}.</li> </ul>"},{"location":"Validation/#discrete","title":"\"discrete\"","text":"<ul> <li>Within one prediction, there can be at most one of the following prediction elements, but not both: {<code>named</code>, <code>bin</code>}.</li> </ul>"},{"location":"Validation/#tests-for-prediction-elements-by-target-type","title":"Tests for prediction elements by target type","text":"<p>These tests are performed when a forecast is created or updated. For all target types, only valid Prediction Types are accepted.</p>"},{"location":"Validation/#continuous_1","title":"\"continuous\"","text":"<ul> <li>any values in <code>point</code>, <code>mean</code>, <code>median</code>, <code>mode</code>, or <code>sample</code> prediction elements should be numeric</li> <li>if <code>range</code> is specified, any values in <code>point</code> or <code>sample</code> prediction elements should be contained within <code>range</code></li> <li>if <code>range</code> is specified, any <code>named</code> Prediction Element should have negligible probability density (no more than 0.001 density) outside of the range.</li> <li>for <code>bin</code> prediction elements, the submitted set of <code>cat</code> values must be a subset of the <code>cats</code> defined by the target</li> <li>for <code>named</code> prediction elements, the distribution must be one of <code>norm</code>, <code>lnorm</code>, <code>gamma</code>, <code>beta</code></li> </ul>"},{"location":"Validation/#discrete_1","title":"\"discrete\"","text":"<ul> <li>any values in <code>point</code>, <code>mean</code>, <code>median</code>, <code>mode</code>, or <code>sample</code> prediction elements should be integers</li> <li>if <code>range</code> is specified, any values in <code>point</code> or <code>sample</code> prediction elements should be contained within <code>range</code></li> <li>if <code>range</code> is specified, any <code>named</code> Prediction Element should have negligible probability density (no more than 0.001 density) outside of the range</li> <li>for <code>bin</code> prediction elements, the submitted set of <code>cat</code> values must be a subset of the <code>cats</code> defined by the target</li> <li>for <code>named</code> prediction elements, the distribution must be one of <code>pois</code>, <code>nbinom</code>, <code>nbinom2</code>.</li> </ul>"},{"location":"Validation/#nominal","title":"\"nominal\"","text":"<ul> <li>any values in <code>point</code>, <code>mean</code>, <code>median</code>, <code>mode</code>, or <code>sample</code> prediction elements should be contained within the valid set of <code>cats</code> defined by the target</li> <li>for <code>bin</code> prediction elements, the submitted set of <code>cat</code> values must be a subset of the <code>cats</code> defined by the target</li> </ul>"},{"location":"Validation/#binary","title":"\"binary\"","text":"<ul> <li>any values in <code>point</code>, <code>mean</code>, <code>median</code>, <code>mode</code>, or <code>sample</code> prediction elements should be either <code>true</code> or <code>false</code>.</li> <li>for <code>bin</code> prediction elements, there must be exactly two <code>cat</code> values labeled <code>true</code> and <code>false</code>. These are the two <code>cats</code> that are implied (but not allowed to be specified) by binary target types.</li> </ul>"},{"location":"Validation/#date","title":"\"date\"","text":"<ul> <li>any values in <code>point</code>, <code>mean</code>, <code>median</code>, <code>mode</code>, or <code>sample</code> prediction elements should be string that can be interpreted as a date in <code>YYYY-MM-DD</code> format, and these values should be contained within the set of valid responses defined by <code>cats</code> defined by the target.</li> <li>for <code>bin</code> prediction elements, the submitted set of <code>cats</code> must be a subset of the valid outcomes defined by the target range.</li> </ul>"},{"location":"Validation/#tests-for-target-definitions-by-target-type","title":"Tests for target definitions by target type","text":"<p>These tests are performed when a target is created or updated.</p>"},{"location":"Validation/#continuous_2","title":"\"continuous\"","text":"<ul> <li>if both <code>range</code> and <code>cats</code> are specified, then the <code>min(cats)</code> must equal the lower bound and <code>max(cats)</code> must be less than the upper bound.</li> <li>if <code>range</code> is specified it must contain two numeric values</li> <li><code>range</code> lower bound must be smaller than the upper bound. </li> <li>if <code>range</code> is specified, is assumed to be inclusive on the lower bound and open on the upper bound, e.g. [a, b).</li> </ul>"},{"location":"Validation/#discrete_2","title":"\"discrete\"","text":"<ul> <li>if <code>range</code> is specified, it must include two integers.</li> </ul>"},{"location":"Validation/#nominal_1","title":"\"nominal\"","text":"<ul> <li><code>cats</code> must be a character vector containing a set of unique labels of the categories for this target. The labels must not include <code>\"\"</code>, <code>NA</code> or <code>NULL</code> (case does not matter).</li> </ul>"},{"location":"Validation/#binary_1","title":"\"binary\"","text":"<ul> <li>none.</li> </ul>"},{"location":"Validation/#date_1","title":"\"date\"","text":"<ul> <li>the <code>unit</code> parameter is required to be one of <code>month</code>, <code>week</code>, <code>biweek</code>, or <code>day</code></li> <li>the <code>date</code> parameter must contain a list of text elements in <code>YYYY-MM-DD</code> format that can be interpreted as dates.</li> </ul>"},{"location":"Validation/#tests-for-ground-truth-data-tables","title":"Tests for ground truth data tables","text":"<p>Please see zoltar-ground-truth-example.csv for an example of a valid specification of ground-truth values.</p>"},{"location":"Validation/#for-all-ground-truth-files","title":"For all ground truth files","text":"<ul> <li>The columns are <code>timezero</code>, <code>unit</code>, <code>target</code>, and <code>value</code>.</li> <li>For every unique <code>target</code>-<code>unit</code>-<code>timezero</code> combination, there should be either one or zero rows of truth data.</li> <li>Every value of <code>timezero</code>, <code>target</code> and <code>unit</code> must be in the list of valid values defined by the project configuration file. (Note: not every combination needs to exist for the file to be valid.)</li> <li>The <code>value</code> of the truth data cannot be <code>\u201c\u201d</code>, <code>\u201cNA\u201d</code> or <code>NULL</code> (case does not matter).</li> <li>The <code>value</code> of the truth data should be interpretable as the corresponding <code>data_type</code> of the specified target. E.g., for a row corresponding to a <code>date</code> target, the entry must contain a valid ISO-formatted date string.</li> </ul>"},{"location":"Validation/#range-check-for-ground-truth-data","title":"Range-check for ground truth data","text":"<p>The following test can be applied to any target with a <code>range</code>. This will always apply to <code>binary</code>, <code>nominal</code>, and <code>date</code> targets, as these targets are required to have sets of valid values specified as part of the target definition. If the <code>range</code> parameter is specified for a <code>continuous</code> or <code>discrete</code> target, then the following test will be applied to that target as well.</p> <p>For <code>binary</code> targets:  - The entry in the <code>value</code> column for a specific <code>target</code>-<code>unit</code>-<code>timezero</code> combination must be either <code>true</code> or <code>false</code>.</p> <p>For <code>discrete</code> and <code>continuous</code> targets (if <code>range</code> is specified):  - The entry in the <code>value</code> column for a specific <code>target</code>-<code>unit</code>-<code>timezero</code> combination must be contained within the <code>range</code> of valid values for the target. If <code>cats</code> is specified but <code>range</code> is not, then there is an implicit range for the ground truth value, and that is between min(<code>cats</code>) and \\infty.</p> <p>For <code>nominal</code> and <code>date</code> target_types:  - The entry in the <code>value</code> column for a specific <code>target</code>-<code>unit</code>-<code>timezero</code> combination must be contained within the set of valid <code>cats</code> for the target, as defined by the project config file.</p>"},{"location":"VisualizationOptionsPage/","title":"Visualization options page","text":"<p>Note: Currently the visualization feature is only available to logged in users. Please see the contact section on the index page for account requests.</p> <p>Reached via the project detail page's Features section, this page lets you edit project-specific options that the visualization feature requires. These options must be set for the visualization to work properly. They are expressed as a JSON object. The page has these sections (refer to the screenshot below):</p> <ul> <li>Validity: Located in the upper left, this shows the validity of the submitted JSON. Green text indicates valid JSON, and red indicates invalid JSON, along with bullet(s) for each error. You'll need to correct the JSON and re-submit it before it can be saved. </li> <li>Editor: Located in the middle left, this is a plain HTML text area where you can edit the JSON. Once you're done, click the \"Submit\" button to either validate the JSON (check the \"Validate Only\" box) without saving, or save the JSON (uncheck the box). You'll see the message \"Project viz options saved.\" if the save was successful.</li> <li>Documentation summary: Located in the upper right, this text summarizes each JSON field's purpose.</li> <li>Choices: Located in the lower right, this is a set of controls you can use to browse all the Targets, Units, and Models in the project. Selecting an item places its text in the gray text area at the bottom right. You can select the text and then use the brower's copy and paste feature to paste it into the JSON on the left.</li> </ul>"},{"location":"VisualizationOptionsPage/#example-page","title":"Example page","text":""},{"location":"WebTourIntro/","title":"Introduction","text":"<p>These pages take you through a tour of Zoltar's web interface, located at zoltardata.com. Start the tour by following the links in the navigation menu on the left, ideally in order. You can also use the Previous and Next buttons at the bottom of this page.</p>"},{"location":"Zoltpy/","title":"zoltpy (Python)","text":"<p>Zoltpy is a Python module that contains functions for working with the Zoltar forecast repository\u2019s API, including projects, models, forecasts, and truth. The source is at github.com/reichlab/zoltpy (it is not yet on PyPI).</p>"},{"location":"Zoltr/","title":"zoltr (R)","text":"<p>Zoltr is an R package that contains functions for working with the Zoltar forecast repository\u2019s API, including projects, models, forecasts, and truth. Documentation for the package is at the zoltr pkgdown site. It is available as a CRAN package, though we recommend you download the development version because we are regularly adding features that aren't yet in CRAN:</p> <pre><code>install.packages(\"devtools\")\ndevtools::install_github(\"reichlab/zoltr\")\n</code></pre> <p>The source is at github.com/reichlab/zoltr where the latest version can be installed.</p>"}]}